<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Primary Meta Tags -->
  <title>Premium Car - Avaliações Automotivas Profissionais</title>
  <meta name="title" content="Premium Car - Avaliações Automotivas Profissionais">
  <meta name="description" content="Encontre as melhores avaliações de veículos com análises detalhadas, vídeos e informações completas. Premium Car - Sua referência em reviews automotivos.">
  <meta name="keywords" content="avaliações de carros, reviews automotivos, análise de veículos, carros novos, carros usados, premium car">
  <meta name="author" content="Premium Car">
  <meta name="robots" content="index, follow">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://premiumcar.com/">
  <meta property="og:title" content="Premium Car - Avaliações Automotivas Profissionais">
  <meta property="og:description" content="Encontre as melhores avaliações de veículos com análises detalhadas.">
  <meta property="og:image" content="https://premiumcar.com/icons/icon-512x512.png">

  <!-- Theme Color -->
  <meta name="theme-color" content="#e03131">

  <!-- Icons -->
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">

  <!-- Preconnect -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net">

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

  <!-- Design System -->
  <link rel="stylesheet" href="/css/design-tokens.css">
  <link rel="stylesheet" href="/css/global.css">

  <style>
    /* Hero Section */
    .hero {
      position: relative;
      background: linear-gradient(135deg, var(--color-primary-600) 0%, var(--color-primary-800) 100%);
      color: white;
      padding: var(--space-24) 0;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      inset: 0;
      background: url('https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=1920&q=80') center/cover;
      opacity: 0.12;
    }

    .hero-content {
      position: relative;
      z-index: 1;
      max-width: 700px;
      margin: 0 auto;
      text-align: center;
    }

    .hero-title {
      font-size: var(--text-5xl);
      font-weight: var(--weight-bold);
      margin-bottom: var(--space-4);
      letter-spacing: var(--tracking-tighter);
    }

    .hero-subtitle {
      font-size: var(--text-xl);
      opacity: 0.9;
      margin-bottom: 0;
    }

    @media (max-width: 768px) {
      .hero { padding: var(--space-16) 0; }
      .hero-title { font-size: var(--text-3xl); }
      .hero-subtitle { font-size: var(--text-lg); }
    }

    /* Search Section */
    .search-section {
      margin-top: calc(var(--space-12) * -1);
      position: relative;
      z-index: 10;
      margin-bottom: var(--space-12);
    }

    .search-card {
      background: var(--surface-primary);
      border-radius: var(--radius-2xl);
      box-shadow: var(--shadow-xl);
      padding: var(--space-6);
      border: 1px solid var(--border-light);
    }

    .search-grid {
      display: grid;
      gap: var(--space-4);
    }

    @media (min-width: 768px) {
      .search-grid {
        grid-template-columns: 2fr 1fr 1fr auto;
        align-items: end;
      }
    }

    /* Stats Section */
    .stats {
      background: linear-gradient(135deg, var(--color-primary-600) 0%, var(--color-primary-700) 100%);
      border-radius: var(--radius-2xl);
      padding: var(--space-12) var(--space-6);
      color: white;
      margin: var(--space-12) 0;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: var(--space-6);
      text-align: center;
    }

    .stat-number {
      font-size: var(--text-4xl);
      font-weight: var(--weight-bold);
      line-height: 1;
      margin-bottom: var(--space-2);
    }

    .stat-label {
      font-size: var(--text-sm);
      opacity: 0.9;
    }

    @media (max-width: 768px) {
      .stat-number { font-size: var(--text-2xl); }
      .stat-label { font-size: var(--text-xs); }
    }

    /* Cars Grid */
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: var(--space-4);
      margin-bottom: var(--space-6);
    }

    .section-title {
      font-size: var(--text-2xl);
      font-weight: var(--weight-semibold);
      margin: 0;
      display: flex;
      align-items: center;
      gap: var(--space-3);
    }

    .section-title i {
      color: var(--color-primary-600);
    }

    .cars-grid {
      display: grid;
      gap: var(--space-6);
    }

    @media (min-width: 640px) {
      .cars-grid { grid-template-columns: repeat(2, 1fr); }
    }

    @media (min-width: 1024px) {
      .cars-grid { grid-template-columns: repeat(3, 1fr); }
    }

    /* Car Card */
    .car-card {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: var(--radius-2xl);
      overflow: hidden;
      transition: var(--transition-normal);
      display: flex;
      flex-direction: column;
    }

    .car-card:hover {
      transform: translateY(-6px);
      box-shadow: var(--shadow-xl);
    }

    .car-card-image {
      position: relative;
      aspect-ratio: 16/10;
      overflow: hidden;
      background: var(--surface-tertiary);
    }

    .car-card-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform var(--duration-slow) var(--ease-out);
    }

    .car-card:hover .car-card-image img {
      transform: scale(1.05);
    }

    .car-card-badge {
      position: absolute;
      top: var(--space-3);
      right: var(--space-3);
      padding: var(--space-1) var(--space-3);
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(8px);
      border-radius: var(--radius-full);
      color: white;
      font-size: var(--text-sm);
      font-weight: var(--weight-semibold);
    }

    .car-card-badge.excellent { background: var(--color-success); }
    .car-card-badge.good { background: var(--color-warning); }

    .car-card-favorite {
      position: absolute;
      top: var(--space-3);
      left: var(--space-3);
      width: 36px;
      height: 36px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(8px);
      border: none;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition-fast);
      color: var(--color-neutral-500);
    }

    .car-card-favorite:hover {
      transform: scale(1.1);
    }

    .car-card-favorite.active {
      color: var(--color-danger);
    }

    .car-card-body {
      padding: var(--space-5);
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .car-card-title {
      font-size: var(--text-lg);
      font-weight: var(--weight-semibold);
      margin-bottom: var(--space-2);
      color: var(--text-primary);
    }

    .car-card-meta {
      display: flex;
      gap: var(--space-4);
      font-size: var(--text-sm);
      color: var(--text-tertiary);
      margin-bottom: var(--space-3);
    }

    .car-card-price {
      font-size: var(--text-lg);
      font-weight: var(--weight-bold);
      color: var(--color-primary-600);
      margin-bottom: var(--space-3);
    }

    .car-card-desc {
      font-size: var(--text-sm);
      color: var(--text-secondary);
      line-height: var(--leading-relaxed);
      flex: 1;
      margin-bottom: var(--space-4);
    }

    .car-card-action {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-2);
      width: 100%;
      padding: var(--space-3);
      background: var(--color-primary-600);
      color: white;
      border: none;
      border-radius: var(--radius-lg);
      font-size: var(--text-sm);
      font-weight: var(--weight-medium);
      text-decoration: none;
      transition: var(--transition-fast);
    }

    .car-card-action:hover {
      background: var(--color-primary-700);
      color: white;
    }

    /* Skeleton */
    .skeleton {
      background: linear-gradient(90deg, var(--surface-secondary) 25%, var(--surface-tertiary) 50%, var(--surface-secondary) 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
      border-radius: var(--radius-md);
    }

    @keyframes shimmer {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    /* Pagination */
    .pagination-wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: var(--space-4);
      margin-top: var(--space-10);
      flex-wrap: wrap;
    }

    .pagination-info {
      font-size: var(--text-sm);
      color: var(--text-tertiary);
    }

    .pagination-buttons {
      display: flex;
      gap: var(--space-2);
    }

    .page-btn {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--surface-secondary);
      border: 1px solid var(--border-default);
      border-radius: var(--radius-lg);
      font-size: var(--text-sm);
      font-weight: var(--weight-medium);
      color: var(--text-secondary);
      cursor: pointer;
      transition: var(--transition-fast);
    }

    .page-btn:hover:not(:disabled) {
      background: var(--surface-tertiary);
      color: var(--text-primary);
    }

    .page-btn.active {
      background: var(--color-primary-600);
      border-color: var(--color-primary-600);
      color: white;
    }

    .page-btn:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: var(--space-16) var(--space-6);
    }

    .empty-state-icon {
      font-size: 4rem;
      color: var(--color-neutral-300);
      margin-bottom: var(--space-4);
    }

    .empty-state-title {
      font-size: var(--text-xl);
      font-weight: var(--weight-semibold);
      color: var(--text-primary);
      margin-bottom: var(--space-2);
    }

    .empty-state-desc {
      color: var(--text-secondary);
    }

    /* Videos Section */
    .videos-section {
      background: var(--surface-secondary);
      padding: var(--space-16) 0;
      margin: var(--space-16) 0;
    }

    .videos-grid {
      display: grid;
      gap: var(--space-6);
    }

    @media (min-width: 640px) {
      .videos-grid { grid-template-columns: repeat(2, 1fr); }
    }

    @media (min-width: 1024px) {
      .videos-grid { grid-template-columns: repeat(3, 1fr); }
    }

    .video-card {
      background: var(--surface-primary);
      border-radius: var(--radius-2xl);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: var(--transition-normal);
    }

    .video-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }

    .video-card iframe {
      width: 100%;
      aspect-ratio: 16/9;
      border: none;
    }

    .video-card-body {
      padding: var(--space-4);
    }

    .video-card-title {
      font-size: var(--text-base);
      font-weight: var(--weight-semibold);
      margin-bottom: var(--space-1);
    }

    .video-card-desc {
      font-size: var(--text-sm);
      color: var(--text-secondary);
      margin: 0;
    }

    /* Sort Select */
    .sort-select {
      height: 40px;
      padding: 0 var(--space-10) 0 var(--space-4);
      font-size: var(--text-sm);
      background: var(--surface-primary);
      border: 1px solid var(--border-default);
      border-radius: var(--radius-lg);
      color: var(--text-primary);
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath fill='%23636366' d='M4.646 6.646a.5.5 0 0 1 .708 0L8 9.293l2.646-2.647a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right var(--space-3) center;
    }
  </style>
</head>
<body>
  <div id="header-container"></div>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container hero-content">
      <h1 class="hero-title">Premium Car</h1>
      <p class="hero-subtitle">Avaliações automotivas profissionais e imparciais</p>
    </div>
  </section>

  <!-- Search Section -->
  <section class="search-section">
    <div class="container">
      <div class="search-card">
        <div class="search-grid">
          <div>
            <label class="form-label">Buscar</label>
            <input type="text" id="searchInput" class="form-control" placeholder="Marca, modelo ou título...">
          </div>
          <div>
            <label class="form-label">Marca</label>
            <select id="filterMarca" class="form-control form-select">
              <option value="">Todas</option>
            </select>
          </div>
          <div>
            <label class="form-label">Nota Mínima</label>
            <select id="filterNota" class="form-control form-select">
              <option value="">Todas</option>
              <option value="9">9+ Excelente</option>
              <option value="7">7+ Muito Bom</option>
              <option value="5">5+ Bom</option>
            </select>
          </div>
          <button id="clearFilters" class="btn btn-secondary">
            <i class="bi bi-x-circle"></i> Limpar
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="container">
    <div class="stats">
      <div class="stats-grid">
        <div>
          <div class="stat-number" id="totalCarros">0</div>
          <div class="stat-label">Carros Avaliados</div>
        </div>
        <div>
          <div class="stat-number" id="notaMedia">0</div>
          <div class="stat-label">Nota Média</div>
        </div>
        <div>
          <div class="stat-number" id="marcasTotal">0</div>
          <div class="stat-label">Marcas</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Cars Section -->
  <section class="container py-8">
    <div class="section-header">
      <h2 class="section-title">
        <i class="bi bi-car-front-fill"></i>
        <span>Avaliações Recentes</span>
        <span id="resultCount" class="text-muted fw-regular" style="font-size: var(--text-base);"></span>
      </h2>
      <select id="sortSelect" class="sort-select">
        <option value="newest">Mais Recentes</option>
        <option value="oldest">Mais Antigos</option>
        <option value="price-high">Maior Preço</option>
        <option value="price-low">Menor Preço</option>
        <option value="rating-high">Melhor Nota</option>
      </select>
    </div>

    <div id="carsContainer" class="cars-grid"></div>

    <div id="paginationContainer" class="pagination-wrapper" style="display: none;">
      <span class="pagination-info" id="paginationInfo"></span>
      <div class="pagination-buttons" id="paginationButtons"></div>
    </div>
  </section>

  <!-- Videos Section -->
  <section class="videos-section">
    <div class="container">
      <div class="section-header" style="justify-content: center; margin-bottom: var(--space-8);">
        <h2 class="section-title">
          <i class="bi bi-youtube" style="color: #ff0000;"></i>
          <span>Nossos Vídeos</span>
        </h2>
      </div>

      <div class="videos-grid">
        <div class="video-card">
          <iframe src="https://www.youtube.com/embed/BTRmsImCco8" title="Avaliação Celta" allowfullscreen loading="lazy"></iframe>
          <div class="video-card-body">
            <h3 class="video-card-title">Avaliação Celta</h3>
            <p class="video-card-desc">Review completo com análise detalhada</p>
          </div>
        </div>
        <div class="video-card">
          <iframe src="https://www.youtube.com/embed/YMjdxXdWtsA" title="Avaliação Palio" allowfullscreen loading="lazy"></iframe>
          <div class="video-card-body">
            <h3 class="video-card-title">Avaliação Palio</h3>
            <p class="video-card-desc">Teste de dirigibilidade completo</p>
          </div>
        </div>
        <div class="video-card">
          <iframe src="https://www.youtube.com/embed/kkvy4cpU9G8" title="Avaliação Blazer" allowfullscreen loading="lazy"></iframe>
          <div class="video-card-body">
            <h3 class="video-card-title">Avaliação Blazer</h3>
            <p class="video-card-desc">SUV clássico em detalhes</p>
          </div>
        </div>
      </div>

      <div class="text-center mt-8">
        <a href="https://www.youtube.com/@PremiumCarAvaliacoes" target="_blank" class="btn btn-lg btn-primary">
          <i class="bi bi-youtube"></i> Ver Todos os Vídeos
        </a>
      </div>
    </div>
  </section>

  <div id="footer-container"></div>

  <!-- Scripts -->
  <script src="/js/common.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // State
    let allCars = [];
    let filteredCars = [];
    let currentPage = 1;
    const perPage = 9;
    let sortBy = 'newest';

    // Init
    document.addEventListener('DOMContentLoaded', () => {
      Layout.loadHeaderFooter();
      loadCars();
      setupListeners();
    });

    // Event Listeners
    function setupListeners() {
      document.getElementById('searchInput').addEventListener('input', debounce(applyFilters, 300));
      document.getElementById('filterMarca').addEventListener('change', applyFilters);
      document.getElementById('filterNota').addEventListener('change', applyFilters);
      document.getElementById('clearFilters').addEventListener('click', clearFilters);
      document.getElementById('sortSelect').addEventListener('change', (e) => {
        sortBy = e.target.value;
        applySort();
        render();
      });
    }

    // Load Cars
    async function loadCars() {
      showSkeleton();
      try {
        const res = await fetch('/api/carros?limit=100');
        const data = await res.json();
        allCars = data.data || data;
        filteredCars = [...allCars];

        if (!allCars.length) {
          showEmpty('Nenhuma avaliação', 'Ainda não há carros cadastrados.');
          return;
        }

        populateFilters();
        updateStats();
        applySort();
        render();
      } catch (err) {
        console.error(err);
        showEmpty('Erro ao carregar', 'Tente novamente mais tarde.');
      }
    }

    // Populate Filters
    function populateFilters() {
      const marcas = [...new Set(allCars.map(c => c.marca))].sort();
      const select = document.getElementById('filterMarca');
      select.innerHTML = '<option value="">Todas</option>' +
        marcas.map(m => `<option value="${m}">${m}</option>`).join('');
    }

    // Apply Filters
    function applyFilters() {
      const search = document.getElementById('searchInput').value.toLowerCase();
      const marca = document.getElementById('filterMarca').value;
      const nota = document.getElementById('filterNota').value;

      filteredCars = allCars.filter(car => {
        const matchSearch = !search ||
          car.titulo.toLowerCase().includes(search) ||
          car.marca.toLowerCase().includes(search) ||
          car.modelo.toLowerCase().includes(search);
        const matchMarca = !marca || car.marca === marca;
        const matchNota = !nota || car.nota_geral >= parseInt(nota);
        return matchSearch && matchMarca && matchNota;
      });

      currentPage = 1;
      applySort();
      render();
    }

    // Clear Filters
    function clearFilters() {
      document.getElementById('searchInput').value = '';
      document.getElementById('filterMarca').value = '';
      document.getElementById('filterNota').value = '';
      filteredCars = [...allCars];
      currentPage = 1;
      applySort();
      render();
    }

    // Sort
    function applySort() {
      switch (sortBy) {
        case 'newest': filteredCars.sort((a, b) => b.id - a.id); break;
        case 'oldest': filteredCars.sort((a, b) => a.id - b.id); break;
        case 'price-high': filteredCars.sort((a, b) => b.preco_estimado - a.preco_estimado); break;
        case 'price-low': filteredCars.sort((a, b) => a.preco_estimado - b.preco_estimado); break;
        case 'rating-high': filteredCars.sort((a, b) => b.nota_geral - a.nota_geral); break;
      }
    }

    // Render
    function render() {
      const container = document.getElementById('carsContainer');
      const resultCount = document.getElementById('resultCount');

      if (!filteredCars.length) {
        showEmpty('Nenhum resultado', 'Tente ajustar os filtros.');
        resultCount.textContent = '';
        document.getElementById('paginationContainer').style.display = 'none';
        return;
      }

      resultCount.textContent = `(${filteredCars.length})`;

      const totalPages = Math.ceil(filteredCars.length / perPage);
      const start = (currentPage - 1) * perPage;
      const pageCars = filteredCars.slice(start, start + perPage);

      container.innerHTML = pageCars.map(car => createCard(car)).join('');
      renderPagination(totalPages);
    }

    // Create Card
    function createCard(car) {
      const badgeClass = car.nota_geral >= 9 ? 'excellent' : car.nota_geral >= 7 ? 'good' : '';
      return `
        <article class="car-card">
          <div class="car-card-image">
            <img src="${car.imagem_url || 'https://via.placeholder.com/600x400?text=Sem+Imagem'}"
                 alt="${car.modelo}" loading="lazy">
            <span class="car-card-badge ${badgeClass}">${car.nota_geral}/10</span>
            <button class="car-card-favorite" onclick="Favorites.handleToggle(${car.id}, this)" aria-label="Favoritar">
              <i class="bi bi-heart"></i>
            </button>
          </div>
          <div class="car-card-body">
            <h3 class="car-card-title">${car.titulo}</h3>
            <div class="car-card-meta">
              <span><i class="bi bi-tag"></i> ${car.marca}</span>
              <span><i class="bi bi-calendar3"></i> ${car.ano}</span>
            </div>
            <div class="car-card-price">${Format.currency(car.preco_estimado)}</div>
            <p class="car-card-desc">${car.descricao.substring(0, 100)}${car.descricao.length > 100 ? '...' : ''}</p>
            <a href="/detalhe.html?id=${car.id}" class="car-card-action">
              <i class="bi bi-eye"></i> Ver Análise
            </a>
          </div>
        </article>
      `;
    }

    // Pagination
    function renderPagination(totalPages) {
      const container = document.getElementById('paginationContainer');
      const info = document.getElementById('paginationInfo');
      const buttons = document.getElementById('paginationButtons');

      if (totalPages <= 1) {
        container.style.display = 'none';
        return;
      }

      container.style.display = 'flex';
      const start = (currentPage - 1) * perPage + 1;
      const end = Math.min(currentPage * perPage, filteredCars.length);
      info.textContent = `${start}-${end} de ${filteredCars.length}`;

      let html = `<button class="page-btn" onclick="goToPage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>
        <i class="bi bi-chevron-left"></i>
      </button>`;

      const maxBtns = 5;
      let startPage = Math.max(1, currentPage - 2);
      let endPage = Math.min(totalPages, startPage + maxBtns - 1);
      if (endPage - startPage < maxBtns - 1) startPage = Math.max(1, endPage - maxBtns + 1);

      for (let i = startPage; i <= endPage; i++) {
        html += `<button class="page-btn ${i === currentPage ? 'active' : ''}" onclick="goToPage(${i})">${i}</button>`;
      }

      html += `<button class="page-btn" onclick="goToPage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>
        <i class="bi bi-chevron-right"></i>
      </button>`;

      buttons.innerHTML = html;
    }

    function goToPage(page) {
      const totalPages = Math.ceil(filteredCars.length / perPage);
      if (page < 1 || page > totalPages) return;
      currentPage = page;
      render();
      document.querySelector('.section-header').scrollIntoView({ behavior: 'smooth' });
    }

    // Stats
    function updateStats() {
      const total = allCars.length;
      const avg = (allCars.reduce((s, c) => s + c.nota_geral, 0) / total).toFixed(1);
      const marcas = new Set(allCars.map(c => c.marca)).size;

      animateNumber('totalCarros', total);
      animateNumber('notaMedia', avg);
      animateNumber('marcasTotal', marcas);
    }

    function animateNumber(id, target) {
      const el = document.getElementById(id);
      const duration = 1000;
      const step = target / (duration / 16);
      let current = 0;

      const timer = setInterval(() => {
        current += step;
        if (current >= target) {
          el.textContent = target;
          clearInterval(timer);
        } else {
          el.textContent = Math.floor(current);
        }
      }, 16);
    }

    // Skeleton
    function showSkeleton() {
      const container = document.getElementById('carsContainer');
      container.innerHTML = Array(6).fill(0).map(() => `
        <div class="car-card">
          <div class="skeleton" style="aspect-ratio: 16/10;"></div>
          <div style="padding: var(--space-5);">
            <div class="skeleton" style="height: 24px; width: 70%; margin-bottom: var(--space-3);"></div>
            <div class="skeleton" style="height: 16px; width: 50%; margin-bottom: var(--space-3);"></div>
            <div class="skeleton" style="height: 20px; width: 40%; margin-bottom: var(--space-3);"></div>
            <div class="skeleton" style="height: 40px; margin-top: var(--space-4);"></div>
          </div>
        </div>
      `).join('');
    }

    // Empty State
    function showEmpty(title, desc) {
      document.getElementById('carsContainer').innerHTML = `
        <div class="empty-state" style="grid-column: 1 / -1;">
          <div class="empty-state-icon"><i class="bi bi-search"></i></div>
          <h3 class="empty-state-title">${title}</h3>
          <p class="empty-state-desc">${desc}</p>
        </div>
      `;
    }

    // Debounce
    function debounce(fn, wait) {
      let timeout;
      return (...args) => {
        clearTimeout(timeout);
        timeout = setTimeout(() => fn(...args), wait);
      };
    }
  </script>
</body>
</html>
